<h1>Farmers Markets in Chicago</h1>

<% d = Date.today %>
<% @today = d.wday %>
<% if @today == 1 %>
	<% @today = "open_monday" %>
<% elsif @today == 2 %>
	<% @today = "open_tuesday" %>
<% elsif @today == 3 %>
	<% @today = "open_wednesday" %>
<% elsif @today == 4 %>
	<% @today = "open_thursday" %>
<% elsif @today == 5 %>
	<% today = "open_friday" %>
<% elsif today == 6 %>
	<%= today = "open_saturday" %>
<% elsif today == 7 %>
	<% today = "open_sunday" %>
<% end %>
<% today.parameterize.underscore.to_sym %>
<ul>
	<% Market.where(today => true).each do |m| %>
		<li><h3><%= m["name"] %></h3> 
		    <strong> Address: </strong> <%= m["address"] %> | <strong> Accept Linkcard: </strong> <%= m["linkcard"] %>
	   </li>
 	   <% end %>
</ul>


<!-- something([1..7], [monday, tuesday, wednesday, thursday, friday, saturday, sunday]) --> 

<%#= render 'form' %>

<!-- page 1: dropdown mon-fri, on dropdown select -> post to get_markets
page 2: select all markets where "open_"+post(day) = true, pass data to display
ahhh ok so now i get where your confused
so your two options as this, you can do string concatination to pull your field like "open_"+post(day)
OR
you can have a field named market.days_open which is a comma delimited list of days that the market is open ie: 
monday = 1, tuesday = 2
so a market.days_open could be "1,4,6"
then when the post(day) comes in, you can check to see if <day (int val)> IS IN market.open_days

essentially your two SQL statements you can choose from are:
"SELECT market WHERE "+day+"_open = TRUE";
OR
"SELECT market WHERE days_open LIKE '%"+day+"%'";
one is string concat for the field name and one is searching for the day in the open_days field
IMO both are equally as effective

 -->




